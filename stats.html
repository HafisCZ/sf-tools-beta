<!DOCTYPE html>
<html lang="en">
    <head>
        <title>SFTools - Statistics</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/png" href="res/favicon.png"/>

        <link rel="stylesheet" href="vendor/css/semantic.min.css"/>

        <link rel="stylesheet" href="css/style.css"/>
        <link rel="stylesheet" href="css/style_rv2.css"/>

        <link rel="stylesheet" href="css/plugins.css"/>

        <script src="vendor/js/jquery.3.4.1.min.js"></script>
        <script src="vendor/js/html2canvas.min.js"></script>
        <script src="vendor/js/semantic.min.js"></script>
        <script src="vendor/js/sentry.bundle.min.js"></script>

        <script src="js/enum.js"></script>
        <script src="js/util.js"></script>
        <script src="js/lang.js"></script>
        <script src="js/changelog.js"></script>

        <script src="js/core/util.js"></script>
        <script src="js/core/playa.js"></script>
        <script src="js/core/core.js"></script>
        <script src="js/plugins.js"></script>
        <script src="js/core/idb.js"></script>
        <script src="js/sim/base.js"></script>
        <script src="js/sim/players.js"></script>
        <script src="js/core/ast.js"></script>

        <script src="js/stats/templates.js"></script>
        <script src="js/stats/settings.js"></script>
        <script src="js/stats/table.js"></script>

        <script src="endpoint/endpoint.js"></script>

        <script src="js/core/ui.js"></script>
        <script src="js/stats/event.js"></script>
        <script src="js/views.js"></script>

        <link href="https://fonts.googleapis.com/css?family=Roboto:300&display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="ui fixed borderless huge menu css-menu">
            <div class="header item"><a class="css-a-blank" href="index.html">SFTools</a> <span class="css-temporary css-hidden">Temporary</span></div>
            <a class="item" id="show-players"><i class="small user icon"></i>Players</a>
            <a class="item" id="show-groups"><i class="small archive icon"></i>Guilds</a>
            <a class="item" id="show-browse"><i class="small database icon"></i>Browse</a>
            <a class="item" id="show-settings"><i class="small edit icon"></i>Scripts</a>
            <a class="item" id="show-files"><i class="small folder open icon"></i>Files</a>
            <a class="item" id="show-options"><i class="small cog icon"></i>Settings</a>
            <div class="right menu" id="show-right-menu">
                <a class="item" href="stats.html?temp" target="_blank"><i class="small user secret icon"></i>Temporary session</a>
                <a class="item" id="show-changelog"><i class="small sticky note icon"></i>Changelog</a>
                <a class="item" id="show-profile"><i class="small wrench icon"></i>Profile</a>
            </div>
        </div>

        <div id="modal-confirm" class="ui basic modal">
            <div class="ui grid">
                <div class="five wide column"></div>
                <div class="six wide column">
                    <h2 class="ui centered header white" data-op="title"></h2>
                    <div style="text-align: center; margin-bottom: 4em;" data-op="content"></div>
                    <div class="ui two buttons">
                        <button class="ui red button" data-op="no">Cancel</button>
                        <button class="ui green button" data-op="yes">OK</button>
                    </div>
                </div>
                <div class="five wide column"></div>
            </div>
        </div>

        <!-- ChangeLogView -->
        <div id="view-changelog" class="ui main container css-hidden">
            <div class="ui basic segment" style="padding: 0; padding-top: 1em;">
                <div class="ui grid" data-op="list">

                </div>
            </div>
        </div>

        <!-- FilesView -->
        <div id="view-files" class="ui main container css-hidden sf-container" style="width: 85vw;">
            <div class="ui grid">
                <div class="three wide column">
                    <div class="ui segment" data-op="advanced-left">
                        <div class="ui large header">Filters</div>
                        <div class="ui tiny form" data-op="filters">

                        </div>
                    </div>
                </div>
                <div class="ten wide column">
                    <div data-op="advanced-center">
                        <table class="ui compact fixed table" data-op="advanced-center" style="margin-top: 0;">
                            <thead>
                                <tr>
                                    <th class="clickable text-center" data-op="mark-all"><i class="adjust icon"></i></th>
                                    <th style="width: 16%;" class="text-center">Timestamp</th>
                                    <th style="width: 12%;" class="text-center">Prefix</th>
                                    <th style="width: 17%;">Name</th>
                                    <th style="width: 20%;">Group</th>
                                    <th style="width: 15%;" class="text-center">Origin</th>
                                    <th style="width: 10%;">Tag</th>
                                </tr>
                            </thead>
                            <tbody data-op="files-search-results">

                            </tbody>
                        </table>
                    </div>
                    <div data-op="simple-center">
                        <div data-op="simple-tags" style="margin-bottom: 1rem;">

                        </div>
                        <table class="ui compact fixed table" data-op="simple-center" style="margin-top: 0;">
                            <thead>
                                <tr>
                                    <th class="clickable text-center" data-op="mark-all"><i class="adjust icon"></i></th>
                                    <th style="width: 20%;" class="text-center">Timestamp</th>
                                    <th style="width: 10%;" class="text-center">Players</th>
                                    <th style="width: 10%;" class="text-center">Groups</th>
                                    <th style="width: 15%;">Tag</th>
                                    <th style="width: 15%;" class="text-center">Version</th>
                                    <th style="width: 15%;" class="text-center">Origin</th>
                                    <th style="width: 5%;"></th>
                                </tr>
                            </thead>
                            <tbody data-op="files-search-results-simple">

                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="three wide column">
                    <div class="ui segment">
                        <div class="ui large header">Import / Export</div>
                        <!-- IMPORT -->
                        <div>
                            <label class="fluid ui secondary button" for="button-upload">
                                <i class="small upload icon"></i> Import from File
                            </label>
                            <input type="file" multiple data-op="upload" accept=".har,.json" class="css-hidden" id="button-upload">
                        </div>
                        <label class="fluid ui secondary button sf-margin top-05" data-op="shared">
                            <i class="small share alternate icon"></i> Import Shared
                        </label>
                        <label class="fluid ui secondary button sf-margin top-05" data-op="endpoint">
                            <i class="small gamepad icon"></i> Import from Game
                        </label>
                        <hr class="sf-margin top-20"/>
                        <!-- EXPORT -->
                        <div>
                            <div class="ui fluid buttons">
                                <button class="ui secondary basic button" data-op="export">
                                    <i class="small download icon icon"></i> Export all
                                </button>
                                <button class="ui compact secondary icon button" style="flex: 0 0 3.5em;" data-op="cloud-export">
                                    <i class="share alternate icon"></i>
                                </button>
                            </div>
                        </div>
                        <hr class="sf-margin top-20"/>
                        <div class="text-center">
                            <span data-op="selected-counter">No</span> item(s) selected
                        </div>
                        <div class="sf-margin top-05">
                            <div class="ui fluid buttons">
                                <button class="ui button secondary basic" data-op="export-partial">
                                    <i class="small download icon icon"></i> Export selected
                                </button>
                                <button class="ui compact secondary icon button" style="flex: 0 0 3.5em;" data-op="cloud-export-partial">
                                    <i class="share alternate icon"></i>
                                </button>
                            </div>
                        </div>
                        <div class="sf-margin top-05">
                            <div class="ui fluid two buttons">
                                <label class="fluid ui secondary basic button sf-margin top-05" data-op="hide" data-tooltip="Works independently in simple & advanced mode!">
                                    <i class="small eye slash outline outline icon"></i> Hide
                                </label>
                                <button class="ui compact secondary icon button" style="flex: 0 0 3.5em; border-radius: 0 .28571429rem .28571429rem 0;" data-op="hide-migrate" data-tooltip="Mark files with all hidden players as hidden">
                                    <i class="expand icon"></i>
                                </button>
                                <label class="fluid ui secondary basic button sf-margin top-05" data-op="tags">
                                    <i class="small tags icon"></i> Tags
                                </label>
                            </div>
                        </div>
                        <!-- MERGE -->
                        <label class="fluid ui secondary basic button sf-margin top-05" data-op="merge">
                            <i class="small clone outline icon"></i> Merge selected
                        </label>
                        <!-- DELETE -->
                        <label class="fluid ui red basic button sf-margin top-05" data-op="delete">
                            <i class="small clone outline icon"></i> Delete selected
                        </label>
                        <hr class="sf-margin top-20"/>
                        <!-- WIPE -->
                        <label class="fluid ui red basic button" data-op="delete-all">
                            <i class="small trash alternate outline icon"></i> Delete all
                        </label>
                        <br/>
                        <h3 class="ui centered header">File options</h3>
                        <div class="ui checkbox sf-margin left-20 top-05" data-op="checkbox-advanced">
                            <input type="checkbox">
                            <label>Show advanced file list</label>
                        </div>
                        <div class="ui checkbox sf-margin left-20 top-05" data-op="checkbox-hidden">
                            <input type="checkbox">
                            <label>Show hidden players</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SettingsView -->
        <div id="view-settings" class="ui main container css-hidden" style="width: 95vw;">
            <div class="ui custom popup left center" data-op="save-popup" style="width: 25em;">
                <h2 class="ui centered header" style="color: black !important; margin-bottom: 1em;">Save template</h2>
                <div class="ui fluid search scrolling dropdown" data-op="name">
                    <div class="text"></div>
                    <i class="dropdown icon"></i>
                </div>
            </div>
            <div class="ui grid">
                <div class="three wide column">
                    <h3 class="ui centered header" style="margin-top: 0;">Settings</h3>
                    <div class="ui middle aligned selection list css-selection-list css-top-line" data-op="settings-list">

                    </div>
                    <div class="css-template-heading">
                        <h3 class="ui centered header css-template-header">Templates</h3>
                    </div>
                    <div class="ui middle aligned selection list css-selection-list css-top-line" data-op="template-list">

                    </div>
                </div>
                <div class="twelve wide column">
                    <div class="ui form ta-form">
                        <div class="field">
                            <div class="ta-wrapper">
                                <div class="ta-content"></div>
                                <textarea wrap="off" class="ta-area" spellcheck="false"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="one wide column css-settings-buttons">
                    <button class="ui fluid secondary basic button" data-op="wiki-home"><div><i class="book icon"></i>Wiki</div></button>
                    <button class="ui fluid secondary basic button" data-op="browse"><div><i class="globe icon"></i>Scripts</div></button>
                    <button class="ui fluid secondary basic button" data-op="templates"><div><i class="edit outline icon"></i>Templates</div></button>
                    <button class="ui fluid secondary basic button" data-op="save-template"><div><i class="save icon"></i>Save</div></button>
                    <br/>
                    <button class="ui fluid secondary basic button" data-op="copy"><div><i class="copy outline icon"></i>Copy</div></button>
                    <button class="ui fluid secondary basic button" data-op="prev"><div><i class="undo icon"></i>Undo</div></button>
                    <button class="ui fluid secondary basic button" data-op="next"><div><i class="redo icon"></i>Redo</div></button>
                </div>
            </div>
        </div>

        <!-- SettingsFloatView -->
        <div id="modal-settings" class="ui basic modal text-white css-inverted" style="width: 95vw;">
            <div class="ui custom popup left center" data-op="save-popup" style="width: 25em;">
                <h2 class="ui centered header" style="color: black !important; margin-bottom: 1em;">Save template</h2>
                <div class="ui fluid search scrolling dropdown" data-op="name">
                    <div class="text"></div>
                    <i class="dropdown icon"></i>
                </div>
            </div>
            <div class="ui grid">
                <div class="three wide column">
                    <div class="css-template-heading">
                        <h3 class="ui centered header css-template-header">Templates</h3>
                    </div>
                    <div class="ui middle aligned selection list css-selection-list css-template-fullheight css-top-line" data-op="template-list">

                    </div>
                </div>
                <div class="twelve wide column">
                    <div class="ui form ta-form">
                        <div class="field">
                            <div class="ta-wrapper">
                                <div class="ta-content"></div>
                                <textarea wrap="off" class="ta-area" spellcheck="false"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="one wide column css-settings-buttons">
                    <button class="ui fluid inverted basic button" data-op="close"><div><i class="close icon"></i>Close</div></button>
                    <br/>
                    <button class="ui fluid inverted basic button" data-op="save"><div><i class="save icon"></i>Apply</div></button>
                    <br/>
                    <button class="ui fluid inverted basic button" data-op="delete"><div><i class="trash icon"></i>Remove</div></button>
                    <br/>
                    <button class="ui fluid inverted basic button" data-op="wiki-home"><div><i class="book icon"></i>Wiki</div></button>
                    <button class="ui fluid inverted basic button" data-op="browse"><div><i class="globe icon"></i>Scripts</div></button>
                    <button class="ui fluid inverted basic button" data-op="templates"><div><i class="edit outline icon"></i>Templates</div></button>
                    <button class="ui fluid inverted basic button" data-op="save-template"><div><i class="save icon"></i>Save</div></button>
                    <button class="ui fluid inverted basic button" data-op="save-apply-template"><div><i class="save icon"></i>Save & Apply</div></button>
                    <br/>
                    <button class="ui fluid inverted basic button" data-op="copy"><div><i class="copy outline icon"></i>Copy</div></button>
                    <button class="ui fluid inverted basic button" data-op="prev"><div><i class="undo icon"></i>Undo</div></button>
                    <button class="ui fluid inverted basic button" data-op="next"><div><i class="redo icon"></i>Redo</div></button>
                </div>
            </div>
        </div>

        <!-- PlayersView -->
        <div id="view-players" class="ui main container css-hidden sf-container">
            <div class="ui basic segment margin-none-bottom padding-none-bottom">
                <div class="ui grid">
                    <div class="three wide left aligned column"></div>
                    <div class="ten wide middle aligned column">
                        <div class="ui fluid icon input pl-searchbar css-searchbar-fix">
                            <input class="prompt" type="text" placeholder="Filter players by server, class, guild and/or username" data-op="filter">
                        </div>
                    </div>
                    <div class="three wide column">
                        <div class="ui small basic icon right floated buttons">
                            <button class="ui button" data-position="bottom center" data-tooltip="Custom settings" data-op="configure"><i class="cog icon"></i></button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ui five column grid" data-op="list"></div>
            <div class="ui five column grid margin-large-top" data-op="list-secondary"></div>
            <div class="css-ol-show-other">
                <div class="ui checkbox" data-op="others">
                    <input type="checkbox">
                    <label>Show other players</label>
                </div>
            </div>
            <div class="css-show-hidden">
                <div class="ui checkbox" data-op="hidden">
                    <input type="checkbox">
                    <label>Show hidden</label>
                </div>
            </div>
        </div>

        <!-- GroupsView -->
        <div id="view-groups" class="ui main container css-hidden sf-container">
            <div class="ui five column grid" data-op="list"></div>
            <div class="ui five column grid margin-large-top" data-op="list-secondary"></div>
            <div class="css-gl-show-other">
                <div class="ui checkbox" data-op="others">
                    <input type="checkbox">
                    <label>Show other guilds</label>
                </div>
            </div>
            <div class="css-show-hidden">
                <div class="ui checkbox" data-op="hidden">
                    <input type="checkbox">
                    <label>Show hidden</label>
                </div>
            </div>
        </div>

        <!-- BrowseView -->
        <div id="view-browse" class="ui main container css-hidden sf-container">
            <div class="ui basic segment margin-none-bottom padding-none-bottom">
                <div class="ui grid">
                    <div class="three wide left aligned column">
                        <div class="ui scrolling dropdown" data-op="timestamp">
                            <div class="default text"></div>
                            <i class="dropdown icon"></i>
                        </div>
                        <br/>
                        <div class="ui scrolling dropdown" data-op="reference">
                            <div class="default text"></div>
                            <i class="dropdown icon"></i>
                        </div>
                    </div>
                    <div class="ten wide middle aligned column">
                        <div class="ui fluid icon input pl-searchbar">
                            <input class="prompt" type="text" placeholder="Filter players by server, class, guild and/or username" data-op="filter">
                        </div>
                    </div>
                    <div class="three wide column">
                        <div class="ui small basic icon right floated buttons">
                            <button class="ui button" data-position="bottom center" data-tooltip="Save as image" data-op="save"><i class="download icon"></i></button>
                            <button class="ui button" data-position="bottom center" data-tooltip="Copy table" data-op="copy"><i class="copy icon"></i></button>
                            <button class="ui button" data-position="bottom center" data-tooltip="Copy table for fight simulator" data-op="copy-sim"><i class="copy outline icon"></i></button>
                            <div class="ui top left pointing dropdown button" data-op="configure">
                                <i class="cog icon"></i>
                                <div class="menu" style="overflow-y: scroll; max-height: 50vh;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <table class="sftools-table" data-op="table"></table>
            <div class="css-show-hidden">
                <div class="ui checkbox" data-op="hidden">
                    <input type="checkbox">
                    <label>Show hidden</label>
                </div>
            </div>
        </div>

        <!-- PlayerDetailFloatView -->
        <div id="modal-playerdetail" class="ui basic large modal"></div>

        <!-- PlayerHistoryView -->
        <div id="view-history" class="ui main container css-hidden sf-container">
            <div class="ui basic segment margin-none-bottom padding-none-bottom">
                <div class="ui grid">
                    <div class="three wide column"></div>
                    <div class="ten wide middle aligned column">
                        <h1 class="ui centered header" data-op="name"></h1>
                    </div>
                    <div class="three wide column">
                        <div class="ui small basic icon right floated buttons">
                            <button class="ui button" data-position="bottom center" data-tooltip="Save as image" data-op="save"><i class="download icon"></i></button>
                            <button class="ui button" data-position="bottom center" data-tooltip="Share" data-op="share"><i class="cloud upload icon"></i></button>
                            <div class="ui icon top left pointing dropdown button" data-op="export-dropdown">
                                <i class="file archive icon"></i>
                                <div class="menu">
                                    <div class="header">Export options</div>
                                    <div class="item" data-op="export">All</div>
                                    <div class="item" data-op="export-l">Latest</div>
                                    <div class="item" data-op="export-l5">Latest 5</div>
                                </div>
                            </div>
                            <button class="ui button" data-position="bottom center" data-tooltip="Copy table" data-op="copy"><i class="copy icon"></i></button>
                            <div class="ui top left pointing dropdown button" data-op="configure">
                                <i class="cog icon"></i>
                                <div class="menu" style="overflow-y: scroll; max-height: 50vh;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <table class="sftools-table" data-op="table"></table>
        </div>

        <div id="modal-share" class="ui mini modal">
            <div class="header">File sharing</div>
            <div class="content text-left" style="height: 15em;">
                <h4 class="ui header">Options</h4>
                <div style="margin-top: 0.5em;">
                    <div class="ui checkbox" data-op="once">
                        <input type="checkbox" name="checkbox1">
                        <label for="checkbox1">Single use only
                            <br>
                            <span style="color: gray;">Please consider keeping this option enabled unless you plan to share the file with multiple people.</span>
                        </label>
                    </div>
                </div>
                <div style="margin-top: 1.5em">
                    <h4 class="ui header">Your code:</h4>
                    <div data-op="content-button">
                        <button class="ui fluid button" data-op="send">Get code</button>
                    </div>
                    <div data-op="content-code" class="text-center" style="padding-top: 0.25em;">
                        <code style="white-space: pre; font-size: 1.3em;" data-op="code">ABCDEFGHIJKLMNOPQRSTUVWX</code>
                    </div>
                </div>
            </div>
            <div class="actions">
                <div class="ui approve button">OK</div>
            </div>
        </div>

        <div id="modal-onlinetemplates" class="ui small modal">
            <i class="cctemplate close icon"></i>
            <div class="header">Public scripts</div>
            <div class="content text-center">
                <div class="dimmable">
                    <div class="ui middle aligned grid css-nomargin-grid" style="margin-top: -0.5em; margin-right: -3px;">
                        <div class="row">
                            <div class="text-left seven wide column"><b>Description</b></div>
                            <div class="text-left four wide column"><b>Author</b></div>
                            <div class="text-left three wide column"><b>Created on</b></div>
                        </div>
                    </div>
                    <div style="overflow-y: scroll; height: 45vh; padding-top: 2.5em; margin-right: -1.5em; padding-bottom: 0;">
                        <div class="ui active inverted dimmer" data-op="dimmer">
                            <div class="ui indeterminate text loader">Fetching scripts</div>
                        </div>
                        <div class="ui middle aligned grid css-nomargin-grid" style="margin-right: 0em;" data-op="content">

                        </div>
                    </div>
                </div>
            </div>
            <div class="content" style="border-top: 1px solid rgba(34,36,38,.15); margin-top: -1.5em;">
                <div class="ui middle aligned grid css-nomargin-grid">
                    <div class="fifteen wide column">
                        <div class="ui fluid small input">
                            <input type="text" placeholder="Enter your private code..." data-op="private-value">
                        </div>
                    </div>
                    <div class="one wide column css-template-buttons">
                        <div class="ui icon right floated small buttons">
                            <button class="ui button" data-op="private"><i class="play icon"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="modal-templates" class="ui small modal">
            <i class="cctemplate close icon"></i>
            <div class="header">Templates</div>
            <div class="content" style="padding: 0;">
                <div class="dimmable">
                    <div class="ui two column grid css-nomp-grid" style="height:35em;">
                        <div class="ui inverted dimmer" data-op="dimmer">
                            <div class="ui indeterminate text loader">Commiting changes</div>
                        </div>
                        <div class="column" style="height: 100%;">
                            <div class="ui middle aligned selection list css-template-list css-templates-list" data-op="templates">

                            </div>
                        </div>
                        <div class="column" style="border-left: 1px solid rgba(34,36,38,.15);">
                            <div class="ui form" style="padding-top: 1em; padding-left: 1em; padding-right: 1em; height: 100%;">
                                <div class="field">
                                    <div class="ui icon fluid input">
                                        <input class="text-center" type="text" disabled data-op="name">
                                        <i class="link external alternate icon" data-op="open"></i>
                                    </div>
                                </div>
                                <div class="two fields">
                                    <div class="field">
                                        <label>Changed on</label>
                                        <div class="ui small fluid input">
                                            <input disabled type="text" data-op="timestamp" style="border: none;">
                                        </div>
                                    </div>
                                    <div class="field">
                                        <label>Tool Version</label>
                                        <div class="ui small fluid input">
                                            <input disabled type="text" data-op="version" style="border: none;">
                                        </div>
                                    </div>
                                </div>
                                <div class="field">
                                    <label>Compatibility</label>
                                    <div class="ui small fluid input">
                                        <input disabled type="text" data-op="compat" style="border: none;">
                                    </div>
                                </div>
                                <div class="field">
                                    <label>Published on</label>
                                    <div class="ui small fluid input">
                                        <input disabled type="text" data-op="timestamp2" style="border: none;">
                                    </div>
                                </div>
                                <div class="two fields">
                                    <div class="nine wide field">
                                        <label>Code</label>
                                        <div class="ui small fluid input">
                                            <input readonly type="text" data-op="key" style="border: none; font-family: monospace,monospace;">
                                        </div>
                                    </div>
                                    <div class="seven wide field">
                                        <label><br/></label>
                                        <div class="ui buttons">
                                            <button class="ui basic secondary button" data-tooltip="Publish template" data-op="publish"><i class="globe icon"></i>Publish</button>
                                            <button class="ui icon red basic button" data-tooltip="Unpublish template" data-op="unpublish"><i class="trash icon"></i></button>
                                        </div>
                                    </div>
                                </div>
                                <br/>
                                <div class="fields" style="margin-top: 5em;">
                                    <div class="seven wide field">
                                        <button class="ui fluid basic secondary button" data-tooltip="Update template with current script" data-op="update"><i class="recycle icon"></i>Update</button>
                                    </div>
                                    <div class="two wide field">

                                    </div>
                                    <div class="seven wide field">
                                        <button class="ui fluid red basic button" data-tooltip="Remove template" data-op="delete"><i class="trash icon"></i><span>Remove</span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="modal-onlinefile" class="ui mini modal">
            <div class="header">File Sharing</div>
            <div class="content text-center">
                <p>Enter your code:</p>
                <div class="ui fluid input">
                    <input type="text" placeholder="" data-op="input" style="text-align: center;">
                </div>
                <p data-op="extra" style="color: red; margin-top: 1em;">Invalid or expired code!</p>
            </div>
            <div class="actions">
                <div class="ui cancel button">Cancel</div>
                <div class="ui approve button">OK</div>
            </div>
        </div>

        <!-- GroupDetailView -->
        <div id="view-groupdetail" class="ui main container css-hidden sf-container">
            <div class="ui segment center aligned basic">
                <div class="ui extreme header" data-op="name"></div>
            </div>
            <div class="ui basic segment margin-none-bottom padding-none-bottom">
                <div class="ui grid">
                    <div class="three wide middle aligned column">
                        <div class="ui scrolling dropdown" data-op="timestamp">
                            <div class="default text"></div>
                            <i class="dropdown icon"></i>
                        </div>
                    </div>
                    <div class="two wide middle aligned column">
                        compared to
                    </div>
                    <div class="three wide middle aligned column">
                        <div class="ui scrolling dropdown" data-op="reference">
                            <div class="default text"></div>
                            <i class="dropdown icon"></i>
                        </div>
                    </div>
                    <div class="eight wide column">
                        <div class="ui small basic icon right floated buttons">
                            <button class="ui button" data-tooltip="Save as image" data-op="save"><i class="download icon"></i></button>
                            <button class="ui button" data-tooltip="Share" data-op="share"><i class="cloud upload icon"></i></button>
                            <div class="ui icon top left pointing dropdown button" data-op="export-dropdown">
                                <i class="file archive icon"></i>
                                <div class="menu">
                                    <div class="header">Export options</div>
                                    <div class="item" data-op="export">All</div>
                                    <div class="item" data-op="export-l">Latest</div>
                                    <div class="item" data-op="export-l5">Latest 5</div>
                                    <div class="item" data-op="export-s">Selected</div>
                                    <div class="item" data-op="export-sr">Selected & Reference</div>
                                </div>
                            </div>
                            <button class="ui button" data-tooltip="Copy table" data-op="copy"><i class="copy icon"></i></button>
                            <button class="ui button" data-tooltip="Copy table for fight simulator" data-op="copy-sim"><i class="copy outline icon"></i></button>
                            <div class="ui top left pointing dropdown button" data-op="configure">
                                <i class="cog icon"></i>
                                <div class="menu" style="overflow-y: scroll; max-height: 50vh;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <table class="sftools-table" data-op="table"></table>
        </div>

        <!-- ProfilesView -->
        <div id="view-profiles" class="ui main container css-hidden sf-container">
            <div class="ui grid" data-op="list">

            </div>
        </div>

        <!-- OptionsView -->
        <div id="view-options" class="ui main container css-hidden sf-container">
            <div class="ui grid">
                <div class="six wide column">
                    <div class="ui segment">
                        <h3 class="ui centered header">Global configuration</h3>
                        <div class="ui checkbox sf-margin left-20 top-05" data-op="checkbox-alwaysprev">
                            <input type="checkbox">
                            <label>Compare previous (guilds)</label>
                        </div>
                        <br/>
                        <div class="ui checkbox sf-margin left-20 top-05" data-op="checkbox-empty-groups">
                            <input type="checkbox">
                            <label>Show empty groups</label>
                        </div>
                        <br/>
                        <div class="ui checkbox sf-margin left-20 top-05" data-op="checkbox-obfuscated">
                            <input type="checkbox">
                            <label>Obfuscate player names</label>
                        </div>
                        <br/>
                        <div class="ui checkbox sf-margin left-20 top-05" data-op="checkbox-insecure">
                            <input type="checkbox">
                            <label>Allow restricted tags</label>
                        </div>
                        <br/>
                        <div class="ui checkbox sf-margin left-20 top-05" data-op="checkbox-terms">
                            <input type="checkbox">
                            <label>Accept Terms of Service</label>
                        </div>
                        <br/>
                        <br/>
                        <div class="ui form sf-margin left-20 top-05" style="margin-right: 2em;">
                            <div class="field">
                                <label>Default tab</label>
                                <select class="ui fluid selection dropdown" data-op="dropdown-tab">
                                    <option value="browse">Browse</option>
                                    <option value="groups">Guilds</option>
                                    <option value="players">Players</option>
                                    <option value="files">Files</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ten wide column">
                    <div class="ui segment">
                        <div class="ui grid">
                            <div class="five wide column"></div>
                            <div class="six wide column"><h3 class="ui centered header">Actions</h3></div>
                            <div class="five wide column">
                                <div class="ui small basic icon right floated buttons" style="margin-top: -0.5rem; margin-bottom: 0.5rem;">
                                  <button class="ui button" data-op="remove" data-tooltip="Reset actions" data-position="bottom center"><i class="trash icon" style="color: orange;"></i></button>
                                  <button class="ui button" data-op="reset" data-tooltip="Ignore changes" data-position="bottom center"><i class="black undo icon"></i></button>
                                  <button class="ui button" data-op="save" data-tooltip="Save actions" data-position="bottom center"><i class="black save icon"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="ui form ta-form" style="height: 30em;">
                            <div class="field">
                                <div class="ta-wrapper">
                                    <div class="ta-content"></div>
                                    <textarea wrap="off" class="ta-area" spellcheck="false"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- UI Handler -->
        <script type="text/javascript">
            window.addEventListener('load', function() {
                let params = parseParams(window.location.href);
                let param_temporary = params['temp'] == -1;
                let param_profile = params['profile'];
                let param_slot = params['slot'];
                let param_template = params['template'];

                if (param_temporary) {
                    $('.css-temporary').removeClass('css-hidden');
                }

                if (param_profile) {
                    $('#show-profile').addClass('profiles-disabled');
                }

                let profile = ProfileManager.getProfile(param_profile);
                if (param_temporary) {
                    Preferences.temporary();
                    $('#show-profile').addClass('profiles-disabled');
                    profile = {
                        temporary: true
                    };
                } else if (param_slot) {
                    profile['slot'] = param_slot;
                }

                PopupController.open(LoaderPopup);
                DatabaseManager.load(profile).then(function () {
                    UI.init({
                        Settings: new SettingsView('view-settings'),
                        SettingsFloat: new SettingsFloatView('modal-settings'),
                        Files: new FilesView('view-files'),
                        Players: new PlayersView('view-players'),
                        Groups: new GroupsView('view-groups'),
                        Browse: new BrowseView('view-browse'),
                        PlayerHistory: new PlayerHistoryView('view-history'),
                        PlayerDetail: new PlayerDetailFloatView('modal-playerdetail'),
                        GroupDetail: new GroupDetailView('view-groupdetail'),
                        ChangeLogs: new ChangeLogsView('view-changelog'),
                        ConfirmDialog: new ConfirmDialogView('modal-confirm'),
                        Templates: new TemplatesView('modal-templates'),
                        OnlineTemplates: new OnlineTemplatesView('modal-onlinetemplates'),
                        OnlineFiles: new OnlineFilesView('modal-onlinefile'),
                        OnlineShareFile: new OnlineShareFileView('modal-share'),
                        Profiles: new ProfilesView('view-profiles'),
                        Options: new OptionsView('view-options')
                    });

                    UI.register(UI.Players, 'show-players');
                    UI.register(UI.Groups, 'show-groups');
                    UI.register(UI.Browse, 'show-browse');
                    UI.register(UI.Files, 'show-files');
                    UI.register(UI.Settings, 'show-settings');
                    UI.register(UI.ChangeLogs, 'show-changelog');
                    UI.register(UI.Profiles, 'show-profile');
                    UI.register(UI.Options, 'show-options');

                    PopupController.close(LoaderPopup);

                    UI.show({
                        'players': UI.Players,
                        'groups': UI.Groups,
                        'browse': UI.Browse,
                        'files': UI.Files
                    }[SiteOptions.tab] || UI.Groups);

                    if (param_template) {
                        PopupController.open(SaveOnlineTemplatePopup, param_template);
                    }
                }).catch(function (e) {
                    PopupController.close(LoaderPopup);
                    PopupController.open(ErrorPopup, `<h4 class="ui white header text-center">Your browser does not support all features required by this page!</br>This issue can be also caused by use of private mode.</h4><br>${e.message}`);
                    Logger.error(e, 'Database could not be opened!');
                });
            });
        </script>
    </body>
</html>
